"use strict";(self.modernJsonp=self.modernJsonp||[]).push([[48609],{175770:(e,n,a)=>{a.d(n,{Z:()=>o});var i=a(412387);let t=null;function r(e){(0,i.El)({eventName:`perf.not_supported.${e}`})}function o(){if(t)return t;try{if(!window.performance||!performance)return r("window_performance"),t=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return r("window_PerformanceObserver"),t=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return r("window_PerformanceObserver_supportedEntryTypes"),t=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return r("window_PerformanceObserver_supportedEntryTypes_mark"),t=!1,!1;t=["mark","measure","now","setResourceTimingBufferSize"].reduce((e,n)=>(window.performance[n]&&performance[n]||(r(`window_performance_${n}`),e=!1),e),!0)}catch(e){(0,i.jn)({errorName:e})}return t}},116657:(e,n,a)=>{let i,t,r;a.d(n,{JG:()=>M,XJ:()=>j,ZP:()=>Z,Ly:()=>V,Eq:()=>G,P9:()=>W,ep:()=>F,$e:()=>U,yh:()=>D,Lg:()=>q,cB:()=>H});var o=a(17433),s=a(776090),l=a(638619),d=a(48756),_=a(221097),c=a(647466);let m=!1;function u(){if(m)return;let e=window.innerHeight,n=window.innerWidth,a=()=>{let i=(0,c.bC)(),t=Math.abs(window.innerHeight-e),r=window.innerHeight!==e,o=window.innerWidth!==n;if("phone"===i.deviceType&&(!o&&r&&t<=150||!r&&!o)||"desktop"===i.deviceType&&!r&&!o){window.removeEventListener("resize",a),m=!1;return}M("windowResized"),window.removeEventListener("resize",a),m=!1};window.addEventListener("resize",a),m=!0}var p=a(175770);let g=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js","sterling/advertiser/[advertiserId]/ads/review_draft.js","sterling/advertiser/[advertiserId]/ads/edit_draft.js","sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered","createFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],v=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"],annotateExperiments:["web_sw_extend_precache","web_sw_reduce_precache","web_sw_provide_revision"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}}];var E=a(412387),f=a(873874);let N=[...v,...g];function w({isAuthenticated:e,isInitialPageLoad:n,isMobile:a}){let i=(0,f.H)(),t=N.find(e=>Array.isArray(e.handler)?e.handler.includes(i):i===e.handler),r=t?.config,o=r?.unified;if(o||(o=a?r?.mWeb:r?.dWeb),o){let a=e?o.auth:o.unauth;if(a){if(n&&a.initialPageLoad)return(0,E.qu)("Found isInitialPageLoad config"),(0,E.qu)(a.initialPageLoad),{...a.initialPageLoad};else if(!n&&a.clientNavigation)return(0,E.qu)("Found clientNavigation config"),(0,E.qu)(a.clientNavigation),{...a.clientNavigation}}}return(0,E.qu)(`No config found for ${i} :(`),null}let h=({isAuthenticated:e,isInitialPageLoad:n,isMobile:a,segment:i})=>{let t=w({isAuthenticated:e,isInitialPageLoad:n,isMobile:a});return t?.segments?.[i]??null};var P=a(349057);let R={},T=[],I=[],L={},C={},A=[],b=0,O=0,S=[],y=["webpack_react_profiler","web_static_pinrep","build_with_rspack","web_early_hydration"];function D(e){e&&M(e),(0,E.qu)("Reset PWT configs"),R={},T=[],I=[],L={},C={},A=[],i=null,b=0,O=0,r="",S=[]}function G(){return i?O:0}function V(){return i?i.name:""}function W(){return i?O:null}function j(e,n,a){let i;if((0,p.Z)()){switch(a){case"BOOL":i={type:"BOOL",value:"boolean"==typeof n?n:null};break;case"STRING":i={type:"STRING",value:"string"==typeof n?n:null};break;case"I16":case"I32":case"I64":i={type:a,value:"number"==typeof n?n:null};break;default:(0,E.qu)("Invalid binary annotation type");return}if(null===i.value)return void(0,E.qu)("Invalid binary annotation value");C={...C,[e]:i},(0,E.qu)(`Add binary annotation: { ${e}: ${i.value} }`)}}function U(e){if((0,p.Z)())if(i){let n=I.indexOf(e);if(n>-1){if(I.splice(n,1),(0,E.qu)(`Remove constraint: ${e}. Remaining constraints: [${I.join(", ")}]`),0===I.length){let e=b-O,n=[...y,...i.annotateExperiments||[]];(0,E.fv)({pwtName:i.name,annotateExperiments:n}),(0,E.$v)({eventName:i.name,value:e}),(0,E.$v)({eventName:"complete",value:e,tags:{handler:(0,f.H)()}});let a=(0,c.bC)(),o={type:"surface",surface:i.name,id:i.id,navigationType:t,isAuthenticated:a.isAuthenticated},l=(0,s.W)({annotateExperiments:n,annotations:{},binaryAnnotations:C,constraintMap:L,endTime:b,imageTimings:A,isV4Logger:!0,metricId:o,pwtStaticContext:a,startTime:O,traceId:r,spans:[]});(0,E.qu)(`All constraints complete. ${i.name} PWT completed at ${Math.floor(b)}ms. PWT duration: ${Math.floor(e)}ms`),(0,E.qu)("Result:",l),(0,d.Z)({metricId:o,pwtStaticContext:a,result:l,isV4Logger:!0,annotateExperiments:n}),D()}}else(0,E.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:i.name,errorDetailsTag:e})}else(0,E.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),T.push(e)}function $(e,n){if((0,p.Z)())if(i){let a=I.indexOf(e);a>-1&&(b<n&&(b=n),L[e]=n,(0,E.eR)(I[a],i?.name),(0,E.$v)({eventName:`${i?.name}.constraint.${e}`,value:n}),(0,E.$v)({eventName:`constraint.${e}`,value:n,tags:{handler:(0,f.H)()}}),(0,E.qu)(`Complete constraint: ${e} at ${Math.floor(n)}ms`),U(e))}else R[e]||(R[e]=n)}function M(e){if((0,p.Z)()&&i){let n=[...y,...i.annotateExperiments||[]];(0,E.T0)({abortReason:e,pwtName:i.name,annotateExperiments:n}),I.forEach(e=>{(0,E.yi)(e,i?.name)});let a=(0,c.bC)(),o={type:"surface",surface:i.name,id:i.id,navigationType:t,isAuthenticated:a.isAuthenticated},l=(0,s.N)({reason:e,annotateExperiments:n,annotations:{},binaryAnnotations:C,constraintMap:L,endTime:performance.now(),imageTimings:A,isV4Logger:!0,metricId:o,pwtStaticContext:a,startTime:O,traceId:r,spans:[]});(0,E.qu)(`Abort ${i.name} PWT. Abort reason: ${e}`),(0,E.qu)("Result:",l),(0,d.Z)({metricId:o,pwtStaticContext:a,result:l,isV4Logger:!0,annotateExperiments:n}),D()}}function H(e){if((0,p.Z)()&&i&&I.includes("VisuallyComplete"))if((0,E.qu)("Set visually complete result"),(0,E.qu)("Image resource timings: ",e),0===(A=e).length)M("visuallyComplete_noImages");else{let e=Math.max(...A.map(e=>e.responseEnd||0));(0,P.Nx)("VisuallyComplete",e)}}function q(e){if((0,p.Z)())if(i&&i.name.toLowerCase()!==e.toLowerCase()){let n=[...y,...i.annotateExperiments||[]],{isAuthenticated:a,deviceType:r}=(0,c.bC)(),o=h({isAuthenticated:a,isInitialPageLoad:"initial_app_load"===t,isMobile:"phone"===r,segment:e});if(!o)return void(0,E.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,E.T0)({abortReason:"segmentChange",pwtName:i.name,annotateExperiments:n}),i.name=o,(0,E.qu)(`Set segment to ${e}. PWT action name: ${o}`),(0,E.sd)({pwtName:i.name,annotateExperiments:[...y,...i.annotateExperiments||[]]})}else(0,E.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function F(e,n,a){if((0,p.Z)())if(i&&M("routeChange"),"POP"===e&&!1===a);else{u();let{isAuthenticated:o,deviceType:s,serverData:d}=(0,c.bC)();if(i=w({isAuthenticated:o,isInitialPageLoad:a,isMobile:"phone"===s})){if(O=n,a)t="initial_app_load";else switch(e){case"PUSH":t="client_route_push";break;case"REPLACE":t="client_route_replace"}(0,E.sd)({pwtName:i.name,annotateExperiments:[...y,...i.annotateExperiments||[]]}),(0,E.qu)(`Start ${i.name} PWT`),i?.constraints.forEach(e=>{(0,p.Z)()&&(i?((0,E.DM)(e,i.name),I.includes(e)||(I.push(e),(0,E.qu)(`Add constraint: ${e}`))):(0,E.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),I.forEach(e=>{R[e]?$(e,R[e]):T.includes(e)&&U(e)}),r=(0,l.vc)()||(0,l.ZP)("initial_app_load"===t,d?.trace_id)}}}function Z({requestContext:e,traceLoggerData:n}){try{if((0,c.Z4)({requestContext:e,traceLoggerData:n}),!(0,p.Z)())return void(0,E.El)({eventName:"unsupportedPWTBrowser"});(0,E.El)({eventName:"supportedPWTBrowser"}),u(),_.Z.onSessionPause(M);let a=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&$(e.name.split("complete_constraint__")[1]||"",e.startTime)})});a.observe&&a.observe({type:"mark",buffered:!0});let i=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:n}=window.navigator.connection||{};if(n&&"number"==typeof n){let a=e.responseEnd-n/2;a>0&&(0,o.ZP)("client_chunkEndTime",a)}(0,o.L8)("dom_complete",e.startTime,e.domComplete),(0,o.L8)("dom_interactive",e.startTime,e.domInteractive),(0,o.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,o.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,o.L8)("response_start",e.startTime,e.responseStart),(0,o.L8)("response_duration",e.responseStart,e.responseEnd)})});i.observe&&i.observe({type:"navigation",buffered:!0});let t=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.identifier.includes("MainPinImage")&&!S.includes(e.identifier)&&S.push(e.identifier)})});t.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{a.disconnect(),i.disconnect(),t.disconnect()})}catch(e){(0,E.jn)({errorName:e})}}},349057:(e,n,a)=>{a.d(n,{Nx:()=>s,Yl:()=>d,l7:()=>l,qS:()=>_,rt:()=>c});var i=a(667294),t=a(17433),r=a(175770),o=a(116657);let s=(e,n)=>{(0,r.Z)()&&(n?performance.mark(`complete_constraint__${e}`,{startTime:n}):performance.mark(`complete_constraint__${e}`),(0,t.L8)(`constraint__${e}`,(0,o.Eq)(),n??performance.now()))},l=e=>{(0,o.$e)(e)},d=e=>{(0,o.Lg)(e)},_=e=>{(0,i.useEffect)(()=>{(0,o.Lg)(e)},[e])},c=(e,n,a)=>{(0,o.XJ)(e,n,a)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/48609-b4effa7faf50224b.mjs.map